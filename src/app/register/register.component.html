<app-navbar [displayUserNav]="false"></app-navbar>
<div class="container">
  <div class="container-fluid">
    
    <form [formGroup]="registrationForm" *ngIf="!submitted">
      <!-- {{registrationForm.status|json}} -->
      <h3 class="mb-3">Registration Form</h3>
      <div class="row">
        <div class="col-sm-6  form-group">
          
            <label>FirstName</label>
            <input
              type="text"
              name="FirstName"
              id="FirstName"
              class="form-control mb-3"
              placeholder="Enter firstname here.."
              formControlName="firstname"
            />
          
          <div
            *ngIf="
              registrationForm.get('firstname').invalid &&
              registrationForm.get('firstname').touched
            "
            class="alert alert-danger"
          >
            <small>FirstName field is required</small>
          </div>
        </div>
        <div class="col-sm-6  form-group">
          
            <label>LastName</label>
            <input
              type="text"
              name="LastName"
              id="LastName"
              class="form-control mb-3"
              placeholder="Enter lastname here.."
              formControlName="lastname"
            />
          
          <div
            *ngIf="
              registrationForm.get('lastname').invalid &&
              registrationForm.get('lastname').touched
            "
            class="alert alert-danger"
          >
            <small>LastName field is required</small>
          </div>
        </div>
      </div>
      
        <label>Create a username</label>
        <input
          type="text"
          name="usrname"
          id="usrname"
          class="form-control mb-3"
          placeholder="Create username"
          formControlName="username"
        />
      
      <div
        *ngIf="
          registrationForm.get('username').invalid &&
          registrationForm.get('username').touched
        "
      >
        <div
          *ngIf="registrationForm.get('username').errors?.required"
          class="alert alert-danger"
        >
          <small>Username is required</small>
        </div>
        <div
          *ngIf="registrationForm.get('username').errors?.minlength"
          class="alert alert-danger"
        >
          <small>Minimum 6 form-group characters required</small>
        </div>
      </div>
      
        <label>Email Address</label>
        <input
          type="email"
          name="email"
          id="email"
          class="form-control mb-3"
          placeholder="Enter email address here.."
          formControlName="email"
        />
      
      <div
        *ngIf="
          registrationForm.get('email').invalid &&
          registrationForm.get('email').touched
        "
        class="alert alert-danger"
      >
        <small>Email field is required</small>
      </div>
      <div class="row">
        <div class="col-sm-6 form-group ">
          
            <label>Create Password</label>
            <input
              type="password"
              name="pswd"
              id="pswd"
              class="form-control mb-3"
              placeholder="Create password"
              formControlName="password"
            />
          
          <div
            *ngIf="
              registrationForm.get('password').invalid &&
              registrationForm.get('password').touched
            "
            class="alert alert-danger"
          >
            <small>Password is required</small>
          </div>
        </div>
        <div class="col-sm-6 form-group ">
          
            <label>Confirm Password</label>
            <input
              type="password"
              name="confirm"
              id="confirm"
              class="form-control mb-3"
              placeholder="Confirm password"
              formControlName="confirmpassword"
              [class.is-invlaid]="registrationForm.errors?.mismatch"
            />
          
          <div
            *ngIf="registrationForm.errors?.mismatch"
            class="alert alert-danger"
          >
            <small>password mismatch</small>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-6 form-group ">
            <label>Select user type</label>
            <select name="type" class="custom-select mb-3"  formControlName="type">
              
              <option value="Individual">Individual</option>
              <option value="Institution">Institution</option>
            </select>
          
          <div
            *ngIf="
              registrationForm.get('type').invalid &&
              registrationForm.get('type').touched
            "
            class="alert alert-danger"
          >
            <small>Usertype is required</small>
          </div>
        </div>
        <div class="col-sm-6 form-group mb-3">
          <div
            
            *ngIf="registrationForm.get('type').value == 'Institution'"
          >
            <label>Organisation Name</label>
            <input
              type="text"
              name="institutionName"
              id="institutionName"
              class="form-control"
              placeholder="Enter organisation name here.."
              formControlName="organisation"
            />
          </div>
        </div>
      </div>

      <div >
        <label>AddressLine01 </label>
        <input
          type="text"
          name="AddressLine01"
          id="AddressLine01"
          class="form-control mb-3"
          placeholder="Address Line 01"
          formControlName="address01"
        />
      </div>
      <div
        *ngIf="
          registrationForm.get('address01').invalid &&
          registrationForm.get('address01').touched
        "
        class="alert alert-danger"
      >
        <small>Address is required</small>
      </div>

      <div >
        <label>AddressLine02 </label>
        <input
          type="text"
          name="AddressLine02"
          id="AddressLine02"
          class="form-control mb-3"
          placeholder="Address Line 02"
          formControlName="address02"
        />
      </div>
      <div class="row">
        <div class="col-sm-4  form-group">
          
            <label>State </label>
            <input
              type="text"
              name="state"
              id="state"
              class="form-control mb-3"
              placeholder="Enter state name"
              formControlName="state"
            />
          
          <div
            *ngIf="
              registrationForm.get('state').invalid &&
              registrationForm.get('state').touched
            "
            class="alert alert-danger"
          >
            <small>State name is required</small>
          </div>
        </div>
        <div class="col-sm-4  form-group">
          
            <label>Country </label>
            <input
              type="text"
              name="country"
              id="country"
              class="form-control mb-3"
              placeholder="Enter country name"
              formControlName="country"
            />
          
          <div
            *ngIf="
              registrationForm.get('country').invalid &&
              registrationForm.get('country').touched
            "
            class="alert alert-danger"
          >
            <small>Country name is required</small>
          </div>
        </div>
        <div class="col-sm-4  form-group">
          
            <label>Zip </label>
            <input
              type="number"
              name="postalcode"
              id="postalcode"
              class="form-control mb-3"
              placeholder="Enter zip code"
              formControlName="postalcode"
            />
          
          <div
            *ngIf="
              registrationForm.get('postalcode').invalid &&
              registrationForm.get('postalcode').touched
            "
            class="alert alert-danger"
          >
            <small>Zip Code is required</small>
          </div>
        </div>
      </div>
      <div class="form-group mb-3">
        <label>PanNumber </label>
        <input
          type="text"
          name="Pan"
          id="Pan"
          class="form-control"
          placeholder="Enter pan number here.."
          formControlName="pan"
        />
      </div>
      <div
        *ngIf="
          registrationForm.get('pan').invalid &&
          registrationForm.get('pan').touched
        "
      >
        <div
          *ngIf="registrationForm.get('pan').errors?.required"
          class="alert alert-danger"
        >
          <small>Pan number is required</small>
        </div>
        <div
          *ngIf="registrationForm.get('pan').errors?.maxlength"
          class="alert alert-danger"
        >
          <small>Pan Number must be 10 characters</small>
        </div>
      </div>

      <div class="text-center">
        <button
          class="w-100 btn btn-primary btn-lg"
          [disabled]="registrationForm.invalid"
          type="submit"
          (click)="onsubmit()"
        >
          Submit
        </button>
        <div *ngIf="alreadyexists">
          <h5>User already exists</h5>
          <small class="alert alert-danger"
            >Try again with different username or email!</small
          >
        </div>
        <div *ngIf="errors">System Unavailable,try again later!</div>
      </div>
    </form>
    <div *ngIf="submitted" class="text-center">
      <h3>Registration Complete</h3>
      <p>Successfully Registered</p>

      <br /><br />
      <button class="btn btn-success" routerLink="/login">Go to LOGIN</button>
    </div>
  </div>
</div>
