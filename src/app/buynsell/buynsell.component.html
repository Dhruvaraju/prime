<app-navbar [displayUserNav]="true"></app-navbar>
<div class="container" #portfolio>
  <div class="row justify-content-center">
    <marquee behavior="scroll" direction="left" width="75%" loop="10">
      <div class="holder">
        <div class="text-container">
          <p>
            <img
              src="./../../assets/buynsell-images/icon.jpg"
              style="height: 2em; width: 2em"
            />
            TCS reports 15% YoY Rise in Net Profit in Q4 &nbsp;&nbsp;
            <img
              src="./../../assets/buynsell-images/icon.jpg"
              style="height: 2em; width: 2em"
            />
            RIL Reports 108% YoY Jump in Net Profit in Q4 &nbsp;&nbsp;
            <img
              src="./../../assets/buynsell-images/icon.jpg"
              style="height: 2em; width: 2em"
            />
            Zomato to Raise Rs.8250 crores via IPO &nbsp;&nbsp;
            <img
              src="./../../assets/buynsell-images/icon.jpg"
              style="height: 2em; width: 2em"
            />
            Berger Paints Reports 2x Jump in Net Profit in Q4 &nbsp;&nbsp;
            <img
              src="./../../assets/buynsell-images/icon.jpg"
              style="height: 2em; width: 2em"
            />
            TATA Power Solar Secures Contrat from NHPC &nbsp;&nbsp;
            <img
              src="./../../assets/icon.jpg"
              style="height: 2em; width: 2em"
            />
            SBI Reports 80% YoY Rise in Net Profit in Q4 &nbsp;&nbsp;
          </p>
        </div>
      </div>
    </marquee>
  </div>
  <div class="row">
    <div class="container card" style="border-color: white">
      <div class="container-fluid">
        <div class="d-flex">
          <img
            class="card-img opacity-3"
            src="./../../assets/buynsell-images/bg-buynsell.jpg"
            style="width: 68.5em; margin-left: 0px; padding-left: 0px;"
          />
        </div>
      </div>
      <div class="card-img-overlay">
        <div class="d-flex justify-content-end">
          <div
            class="card"
            style="margin-top: 6em; width: 27.5em; border-color: white"
          >
            <h3 class="card-header">Portfolio</h3>
            <div class="card-body" id="fetchBuynSellPortfolio">
              <p *ngIf="!stockList?.length">
                Your Portfolio is empty, Please buy any stock
              </p>
              <table
                class="
                  table table-hover table-bordered
                  count-Table
                  table-grey table-responsive
                "
                *ngIf="stockList?.length"
              >
                <thead class="thead-light">
                  <tr>
                    <th scope="col">Stock Name</th>
                    <th scope="col">Net Qty</th>
                    <th scope="col">LTP</th>
                    <th scope="col">Current Value</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let stock of stockList">
                    <td>{{ stock.productName }}</td>
                    <td>{{ stock.quantity }}</td>
                    <td>${{ stock.buyPrice }}</td>
                    <td>${{ stock.quantity * stock.buyPrice }}</td>
                  </tr>
                </tbody>
              </table>
              <div class="d-flex justify-content-center">
                <div class="row">
                  <div class="col-6 d-grid text-center">
                    <button
                      type="button"
                      (click)="scroll(targets, 'buy')"
                      class="btn btn-primary btn-block"
                      style="width: 9rem"
                    >
                      Buy
                    </button>
                  </div>
                  <div class="col-6 d-grid text-center">
                    <button
                      (click)="scroll(sellBlock, 'sell')"
                      type="button"
                      class="btn btn-danger btn-block"
                      style="width: 9rem"
                      *ngIf="stockList?.length"
                    >
                      Sell
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div #targets>
    <app-buy
      *ngIf="displayBuy"
      (returnEvent)="retriggerService($event)"
      (returnToPortfolio)="scrollUp(portfolio)"
    ></app-buy>
  </div>
  <div #sellBlock>
    <app-sell
      *ngIf="displaySell"
      (returnEvent)="retriggerService($event)"
      (returnToPortfolio)="scrollUp(portfolio)"
    ></app-sell>
  </div>
  <router-outlet></router-outlet>
</div>
